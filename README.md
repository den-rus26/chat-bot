# chat-bot
Telegram Bot for Order Management
# Telegram Bot for Order Management

Этот проект представляет собой Telegram-бота для управления заявками на покупку. Бот позволяет пользователям создавать заказы, просматривать свои заказы и управлять ими. Администраторы могут просматривать все заказы и отмечать их как выполненные.

## Основные функции

- **Создание заявок**: Пользователи могут создавать заявки на покупку товаров.
- **Просмотр заказов**: Пользователи могут просматривать свои текущие и завершенные заказы.
- **Управление заказами (для администраторов)**: Администраторы могут просматривать все заказы и отмечать их как выполненные.
- **Уведомления**: Пользователи получают уведомления о статусе своих заказов.

## Технологии

- **Язык программирования**: Go
- **База данных**: MySQL
- **Telegram Bot API**: [go-telegram-bot-api](https://github.com/go-telegram-bot-api/telegram-bot-api)
- **Управление зависимостями**: Go Modules

## Установка и настройка

### 1. Установка Go

Убедитесь, что у вас установлен Go версии 1.21 или выше. Если Go не установлен, скачайте и установите его с официального сайта.

### 2. Настройка базы данных

Установите MySQL и создайте базу данных для проекта.

Создайте таблицы, используя SQL-скрипт из файла schema.sql.

Настройте подключение к базе данных, указав DSN в файле .env

### 3. Настройка окружения

Создайте файл .env в корне проекта и добавьте в него следующие переменные:

DB_DSN=username:password@tcp(host:port)/database_name
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
GROUPCHATID=your_group_chat_id(если нужно)

### 4. Установка зависимостей

Установите зависимости с помощью команды:
go mod tidy

### 6. Запуск проекта

Эта программа полностью готова к работе в качестве сервиса Windows. Для этого выполните следующие шаги:

Соберите программу в исполняемый файл:
go build -o bot-service.exe

Установка сервиса:
Откройте командную строку с правами администратора.
Используйте утилиту sc для создания сервиса:
sc create MyService binPath= "C:\path\to\bot-service.exe" start= auto
Замените C:\path\to\bot-service.exe на полный путь к вашему исполняемому файлу.

Убедитесь, что сервис создан:
sc query MyService

Запуск сервиса:

Запустите сервис с помощью команды:
sc start MyService

Остановка сервиса:
Если вам нужно остановить сервис, используйте команду:sc stop MyService

Удаление сервиса:
Если сервис больше не нужен, его можно удалить:
sc delete MyService

Логирование:
Логи сервиса записываются в файл program.log в директории D:/bot/. Убедитесь, что у сервиса есть права на запись в эту директорию.

### 7. Использование
Команды для пользователей

    /start — Начало работы с ботом.

    Создать заявку на покупку — Создать новую заявку.

    Мои заказы — Просмотреть свои заказы.

    Завершить заявку — Завершение составления заявки

    Отмена — Отмена составления заявки

Команды для администраторов

    /allorders — Просмотреть все заказы.

    /unfinished — Просмотреть невыполненные заказы.

    /today — Просмотреть заказы за сегодня.
